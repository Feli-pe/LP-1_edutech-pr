<meta charset="UTF-8">

<canvas width="600" height="400"></canvas>

<script>
	function perguntaNumero(pergunta) {

		var pergunt = parseInt(prompt(pergunta));

		while(isNaN(pergunt)) {

			alert('Por favor digite um número');
			pergunt = prompt(pergunta);
		}

		return pergunt
	}

	function desenhaQuadrado(inicioX, inicioY, quantidade, altura, largura, cor,) {

		var localX = inicioX;
		var localY = inicioY;
		var contador = 0;
		pincel.fillStyle = cor;
		pincel.fillStroke = 'black';

		while(contador < quantidade) {

			if(contador == 0) {
				pincel.fillRect(inicioX, inicioY, altura, largura);
				pincel.strokeRect(inicioX, inicioY, altura, largura);
				contador++;

			} else {
				localX = localX + largura;

				if(localX >= telaX) {
					localX = inicioX;
					localY = localY + altura;
				}

				pincel.fillRect(localX, localY, altura, largura);
				pincel.strokeRect(localX, localY, altura, largura);
				contador++
			}
		}
	}

	var tela = document.querySelector('canvas');
	var pincel = tela.getContext('2d');
	var telaX = tela.width;
	var telaY = tela.height;
	var quantosQuad = perguntaNumero('Quantos quadrados azuis você quer desenhar?, máximo 96');

	pincel.fillStyle = 'lightgray';
	pincel.fillRect(0, 0, 600, 400);

	if(quantosQuad <= 96) {

		desenhaQuadrado(0, 0, quantosQuad, 50, 50, 'darkblue');
	} else {
		alert("Só consigo desenhar 96, olhe!");
		desenhaQuadrado(0, 0, 96, 50, 50, 'darkblue');

	}

</script>